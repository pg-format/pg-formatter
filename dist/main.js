(()=>{"use strict";function t(e,r,n,o){var u=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(u,t.prototype),u.expected=r,u.found=n,u.location=o,u.name="SyntaxError",u}function e(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}function r(e,r){var n,o={},u=(r=void 0!==r?r:{}).grammarSource,i={PG:se},c=se,a="#",s=":",f=",",l="-",h=".",p="'",d='"',A="\\",g="/",v="b",m="f",C="n",b="r",y="t",x="u",j="--",w="->",E="0",$="true",O="false",q=/^[0-9]/,F=/^[^\0-\b\v\f\x0E-\x1F"'\\]/,S=/^[^\r\n]/,k=/^[\n]/,R=/^[\r]/,N=/^[ \t]/,P=/^[0-9a-f]/i,I=/^[^\0- <>"{}|\^`\\]/,U=/^[:#,\-]/,G=/^[1-9]/,J=/^[eE]/,M=/^[+\-]/,T=re("#",!1),z=re(":",!1),B=re(",",!1),D=re("-",!1),H=re(".",!1),Q=ne([["0","9"]],!1,!1),_=re("'",!1),K=re('"',!1),L=ne([["\0","\b"],"\v","\f",["",""],'"',"'","\\"],!0,!1),V=re("\\",!1),W=re("/",!1),X=re("b",!1),Y=re("f",!1),Z=re("n",!1),tt=re("r",!1),et=re("t",!1),rt=re("u",!1),nt=re("--",!1),ot=re("->",!1),ut=ne(["\r","\n"],!0,!1),it=ne(["\n"],!1,!1),ct=ne(["\r"],!1,!1),at=ne([" ","\t"],!1,!1),st=ne([["0","9"],["a","f"]],!1,!0),ft=oe("UNQUOTED_CHAR"),lt=ne([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),ht=ne([":","#",",","-"],!1,!1),pt=oe("INTEGER"),dt=re("0",!1),At=ne([["1","9"]],!1,!1),gt=ne(["e","E"],!1,!1),vt=ne(["+","-"],!1,!1),mt=re("true",!1),Ct=re("false",!1),bt={type:"any"},yt=function(){return{lines:ke,comments:Re}},xt=function(t,e,r){t.node?(t.node.labels=e,t.node.properties=r):t.edge&&(t.edge.labels=e,t.edge.properties=r),t.pos.end=ee().end.offset,ke.push(t)},jt=function(t){t&&(Re[ee().start.offset]=te())},wt=function(t){return{node:{id:t},pos:{start:ee().start.offset}}},Et=function(t,r,n,o){t||r||function(t,r){throw r=void 0!==r?r:ie(Vt,Lt),ae([oe("identifier")],e.substring(Vt,Lt),r)}(),r||(t.literal&&(t.literal+=":"),r=t,t=null);const u={from:r,to:o,direction:n};return t&&(u.id=t),{edge:u,pos:{start:ee().start.offset}}},$t=function(t){return t},Ot=function(t,e){return{key:t,values:e}},qt=function(t,e){return[t,...e]},Ft=function(){return{literal:Number(te())}},St=function(){return{literal:te()}},kt=function(){return{literal:te()}},Rt=function(){return{literal:te().slice(0,-1)}},Nt=function(){return{literal:te().slice(0,-1)}},Pt=function(t){return{quote:"'",literal:t.join("")}},It=function(t){return{quote:'"',literal:t.join("")}},Ut=function(t){return{quote:"'",literal:t.join("")}},Gt=function(t){return{quote:'"',literal:t.join("")}},Jt=function(){return"\b"},Mt=function(){return"\f"},Tt=function(){return"\n"},zt=function(){return"\r"},Bt=function(){return"\t"},Dt=function(t){return te()},Ht=function(t){return String.fromCharCode(parseInt(t,16))},Qt=function(){Re[ee().start.offset]=te()},_t=function(){return{literal:!0}},Kt=function(){return{literal:!1}},Lt=0,Vt=0,Wt=[{line:1,column:1}],Xt=0,Yt=[],Zt=0;if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');c=i[r.startRule]}function te(){return e.substring(Vt,Lt)}function ee(){return ie(Vt,Lt)}function re(t,e){return{type:"literal",text:t,ignoreCase:e}}function ne(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function oe(t){return{type:"other",description:t}}function ue(t){var r,n=Wt[t];if(n)return n;for(r=t-1;!Wt[r];)r--;for(n={line:(n=Wt[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Wt[t]=n,n}function ie(t,e,r){var n=ue(t),o=ue(e),i={source:u,start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:o.line,column:o.column}};return r&&u&&"function"==typeof u.offset&&(i.start=u.offset(i.start),i.end=u.offset(i.end)),i}function ce(t){Lt<Xt||(Lt>Xt&&(Xt=Lt,Yt=[]),Yt.push(t))}function ae(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}function se(){var t,e,r,n,u;for(t=Lt,e=[],r=Lt,n=le(),(u=Ee())!==o?r=n=[n,u]:(Lt=r,r=o),r===o&&(r=Lt,(n=fe())!==o&&(u=Se())!==o?r=n=[n,u]:(Lt=r,r=o));r!==o;)e.push(r),r=Lt,n=le(),(u=Ee())!==o?r=n=[n,u]:(Lt=r,r=o),r===o&&(r=Lt,(n=fe())!==o&&(u=Se())!==o?r=n=[n,u]:(Lt=r,r=o));return r=le(),Vt=t,yt()}function fe(){var t,r,n,u,i,c,s;if(t=Lt,r=function(){var t,r,n,u,i;return t=Lt,r=function(){var t,r,n,u;return t=Lt,(r=ge())!==o&&(n=je())!==o?t=r:(Lt=t,t=o),t===o&&(t=Lt,(r=ve())!==o?(n=Lt,Zt++,35===e.charCodeAt(Lt)?(u=a,Lt++):(u=o,0===Zt&&ce(T)),Zt--,u===o?n=void 0:(Lt=n,n=o),n!==o&&(u=je())!==o?t=r:(Lt=t,t=o)):(Lt=t,t=o)),t}(),r===o&&(r=null),n=Lt,(u=Ae())!==o&&je()!==o?n=u:(Lt=n,n=o),n===o&&(n=null),u=function(){var t;return e.substr(Lt,2)===j?(t=j,Lt+=2):(t=o,0===Zt&&ce(nt)),t===o&&(e.substr(Lt,2)===w?(t=w,Lt+=2):(t=o,0===Zt&&ce(ot))),t}(),u!==o&&je()!==o&&(i=Ae())!==o?(Vt=t,t=Et(r,n,u,i)):(Lt=t,t=o),t}(),r===o&&(r=function(){var t,e;return t=Lt,(e=Ae())!==o&&(Vt=t,e=wt(e)),t=e}()),r!==o){for(n=[],u=Lt,(i=je())!==o&&(c=he())!==o?u=c:(Lt=u,u=o);u!==o;)n.push(u),u=Lt,(i=je())!==o&&(c=he())!==o?u=c:(Lt=u,u=o);for(u=[],i=Lt,(c=je())!==o&&(s=pe())!==o?i=s:(Lt=i,i=o);i!==o;)u.push(i),i=Lt,(c=je())!==o&&(s=pe())!==o?i=s:(Lt=i,i=o);i=function(){var t;return t=Lt,$e()!==o&&we()!==o?(Vt=t,t=Qt()):(Lt=t,t=o),t===o&&(t=$e()),t}(),i===o&&(i=null),Vt=t,t=xt(r,n,u)}else Lt=t,t=o;return t}function le(){var t,e;return t=Lt,$e(),(e=we())===o&&(e=null),Vt=t,jt(e)}function he(){var t,r,n;return t=Lt,58===e.charCodeAt(Lt)?(r=s,Lt++):(r=o,0===Zt&&ce(z)),r!==o?($e(),(n=Ae())!==o?(Vt=t,t=$t(n)):(Lt=t,t=o)):(Lt=t,t=o),t}function pe(){var t,r,n;return t=Lt,r=function(){var t,r,n,u,i,c;if((t=ge())===o&&(t=Lt,(r=ve())!==o&&(n=je())!==o?t=r:(Lt=t,t=o),t===o))if(t=Lt,(r=Fe())!==o){for(n=[],u=Lt,i=Lt,Zt++,58===e.charCodeAt(Lt)?(c=s,Lt++):(c=o,0===Zt&&ce(z)),Zt--,c===o?i=void 0:(Lt=i,i=o),i!==o&&(c=qe())!==o?u=i=[i,c]:(Lt=u,u=o);u!==o;)n.push(u),u=Lt,i=Lt,Zt++,58===e.charCodeAt(Lt)?(c=s,Lt++):(c=o,0===Zt&&ce(z)),Zt--,c===o?i=void 0:(Lt=i,i=o),i!==o&&(c=qe())!==o?u=i=[i,c]:(Lt=u,u=o);58===e.charCodeAt(Lt)?(u=s,Lt++):(u=o,0===Zt&&ce(z)),u!==o?(Vt=t,t=Rt()):(Lt=t,t=o)}else Lt=t,t=o;return t}(),r!==o?(n=function(){var t,r,n,u,i,c;if(t=Lt,je()===o&&null,(r=de())!==o){for(n=[],u=Lt,je(),44===e.charCodeAt(Lt)?(i=f,Lt++):(i=o,0===Zt&&ce(B)),i!==o?(je(),(c=de())!==o?u=c:(Lt=u,u=o)):(Lt=u,u=o);u!==o;)n.push(u),u=Lt,je(),44===e.charCodeAt(Lt)?(i=f,Lt++):(i=o,0===Zt&&ce(B)),i!==o?(je(),(c=de())!==o?u=c:(Lt=u,u=o)):(Lt=u,u=o);Vt=t,t=qt(r,n)}else Lt=t,t=o;return t}(),n!==o?(Vt=t,t=Ot(r,n)):(Lt=t,t=o)):(Lt=t,t=o),t}function de(){var t,r;return t=Lt,r=function(){var t,r,n,u,i,c,a;if(t=Lt,45===e.charCodeAt(Lt)?(r=l,Lt++):(r=o,0===Zt&&ce(D)),r===o&&(r=null),n=function(){var t,r,n,u;if(Zt++,48===e.charCodeAt(Lt)?(t=E,Lt++):(t=o,0===Zt&&ce(dt)),t===o)if(t=Lt,G.test(e.charAt(Lt))?(r=e.charAt(Lt),Lt++):(r=o,0===Zt&&ce(At)),r!==o){for(n=[],q.test(e.charAt(Lt))?(u=e.charAt(Lt),Lt++):(u=o,0===Zt&&ce(Q));u!==o;)n.push(u),q.test(e.charAt(Lt))?(u=e.charAt(Lt),Lt++):(u=o,0===Zt&&ce(Q));t=r=[r,n]}else Lt=t,t=o;return Zt--,t===o&&(r=o,0===Zt&&ce(pt)),t}(),n!==o){if(u=Lt,46===e.charCodeAt(Lt)?(i=h,Lt++):(i=o,0===Zt&&ce(H)),i!==o){if(c=[],q.test(e.charAt(Lt))?(a=e.charAt(Lt),Lt++):(a=o,0===Zt&&ce(Q)),a!==o)for(;a!==o;)c.push(a),q.test(e.charAt(Lt))?(a=e.charAt(Lt),Lt++):(a=o,0===Zt&&ce(Q));else c=o;c!==o?u=i=[i,c]:(Lt=u,u=o)}else Lt=u,u=o;u===o&&(u=null),i=function(){var t,r,n,u,i;if(t=Lt,J.test(e.charAt(Lt))?(r=e.charAt(Lt),Lt++):(r=o,0===Zt&&ce(gt)),r!==o){if(M.test(e.charAt(Lt))?(n=e.charAt(Lt),Lt++):(n=o,0===Zt&&ce(vt)),n===o&&(n=null),u=[],q.test(e.charAt(Lt))?(i=e.charAt(Lt),Lt++):(i=o,0===Zt&&ce(Q)),i!==o)for(;i!==o;)u.push(i),q.test(e.charAt(Lt))?(i=e.charAt(Lt),Lt++):(i=o,0===Zt&&ce(Q));else u=o;u!==o?t=r=[r,n,u]:(Lt=t,t=o)}else Lt=t,t=o;return t}(),i===o&&(i=null),t=r=[r,n,u,i]}else Lt=t,t=o;return t}(),r!==o&&(Vt=t,r=Ft()),(t=r)===o&&(t=function(){var t,r;return t=Lt,e.substr(Lt,4)===$?(r=$,Lt+=4):(r=o,0===Zt&&ce(mt)),r!==o&&(Vt=t,r=_t()),(t=r)===o&&(t=Lt,e.substr(Lt,5)===O?(r=O,Lt+=5):(r=o,0===Zt&&ce(Ct)),r!==o&&(Vt=t,r=Kt()),t=r),t}(),t===o&&(t=function(){var t,r,n,u;if(t=Lt,39===e.charCodeAt(Lt)?(r=p,Lt++):(r=o,0===Zt&&ce(_)),r!==o){for(n=[],u=Ce();u!==o;)n.push(u),u=Ce();39===e.charCodeAt(Lt)?(u=p,Lt++):(u=o,0===Zt&&ce(_)),u!==o?(Vt=t,t=Ut(n)):(Lt=t,t=o)}else Lt=t,t=o;if(t===o)if(t=Lt,34===e.charCodeAt(Lt)?(r=d,Lt++):(r=o,0===Zt&&ce(K)),r!==o){for(n=[],u=be();u!==o;)n.push(u),u=be();34===e.charCodeAt(Lt)?(u=d,Lt++):(u=o,0===Zt&&ce(K)),u!==o?(Vt=t,t=Gt(n)):(Lt=t,t=o)}else Lt=t,t=o;return t}())===o&&(t=function(){var t,r,n,u,i;if(t=Lt,Fe()!==o){for(r=[],n=Lt,u=Lt,Zt++,44===e.charCodeAt(Lt)?(i=f,Lt++):(i=o,0===Zt&&ce(B)),Zt--,i===o?u=void 0:(Lt=u,u=o),u!==o&&(i=qe())!==o?n=u=[u,i]:(Lt=n,n=o);n!==o;)r.push(n),n=Lt,u=Lt,Zt++,44===e.charCodeAt(Lt)?(i=f,Lt++):(i=o,0===Zt&&ce(B)),Zt--,i===o?u=void 0:(Lt=u,u=o),u!==o&&(i=qe())!==o?n=u=[u,i]:(Lt=n,n=o);Vt=t,t=St()}else Lt=t,t=o;return t}())),t}function Ae(){var t,e,r;if((t=me())===o)if(t=Lt,Fe()!==o){for(e=[],r=qe();r!==o;)e.push(r),r=qe();Vt=t,t=kt()}else Lt=t,t=o;return t}function ge(){var t,r,n;return t=Lt,(r=me())!==o?(58===e.charCodeAt(Lt)?(n=s,Lt++):(n=o,0===Zt&&ce(z)),n!==o?t=r:(Lt=t,t=o)):(Lt=t,t=o),t}function ve(){var t,r,n,u,i,c,a;if(t=Lt,Fe()!==o){for(r=[],n=Lt,u=[],i=Lt,c=Lt,Zt++,58===e.charCodeAt(Lt)?(a=s,Lt++):(a=o,0===Zt&&ce(z)),Zt--,a===o?c=void 0:(Lt=c,c=o),c!==o&&(a=qe())!==o?i=c=[c,a]:(Lt=i,i=o);i!==o;)u.push(i),i=Lt,c=Lt,Zt++,58===e.charCodeAt(Lt)?(a=s,Lt++):(a=o,0===Zt&&ce(z)),Zt--,a===o?c=void 0:(Lt=c,c=o),c!==o&&(a=qe())!==o?i=c=[c,a]:(Lt=i,i=o);if(58===e.charCodeAt(Lt)?(i=s,Lt++):(i=o,0===Zt&&ce(z)),i!==o?n=u=[u,i]:(Lt=n,n=o),n!==o)for(;n!==o;){for(r.push(n),n=Lt,u=[],i=Lt,c=Lt,Zt++,58===e.charCodeAt(Lt)?(a=s,Lt++):(a=o,0===Zt&&ce(z)),Zt--,a===o?c=void 0:(Lt=c,c=o),c!==o&&(a=qe())!==o?i=c=[c,a]:(Lt=i,i=o);i!==o;)u.push(i),i=Lt,c=Lt,Zt++,58===e.charCodeAt(Lt)?(a=s,Lt++):(a=o,0===Zt&&ce(z)),Zt--,a===o?c=void 0:(Lt=c,c=o),c!==o&&(a=qe())!==o?i=c=[c,a]:(Lt=i,i=o);58===e.charCodeAt(Lt)?(i=s,Lt++):(i=o,0===Zt&&ce(z)),i!==o?n=u=[u,i]:(Lt=n,n=o)}else r=o;r!==o?(Vt=t,t=Nt()):(Lt=t,t=o)}else Lt=t,t=o;return t}function me(){var t,r,n,u;if(t=Lt,39===e.charCodeAt(Lt)?(r=p,Lt++):(r=o,0===Zt&&ce(_)),r!==o){if(n=[],(u=Ce())!==o)for(;u!==o;)n.push(u),u=Ce();else n=o;n!==o?(39===e.charCodeAt(Lt)?(u=p,Lt++):(u=o,0===Zt&&ce(_)),u!==o?(Vt=t,t=Pt(n)):(Lt=t,t=o)):(Lt=t,t=o)}else Lt=t,t=o;if(t===o)if(t=Lt,34===e.charCodeAt(Lt)?(r=d,Lt++):(r=o,0===Zt&&ce(K)),r!==o){if(n=[],(u=be())!==o)for(;u!==o;)n.push(u),u=be();else n=o;n!==o?(34===e.charCodeAt(Lt)?(u=d,Lt++):(u=o,0===Zt&&ce(K)),u!==o?(Vt=t,t=It(n)):(Lt=t,t=o)):(Lt=t,t=o)}else Lt=t,t=o;return t}function Ce(){var t;return(t=ye())===o&&(34===e.charCodeAt(Lt)?(t=d,Lt++):(t=o,0===Zt&&ce(K)),t===o&&(t=xe())),t}function be(){var t;return(t=ye())===o&&(39===e.charCodeAt(Lt)?(t=p,Lt++):(t=o,0===Zt&&ce(_)),t===o&&(t=xe())),t}function ye(){var t;return F.test(e.charAt(Lt))?(t=e.charAt(Lt),Lt++):(t=o,0===Zt&&ce(L)),t}function xe(){var t,r,n,u,i;return t=Lt,92===e.charCodeAt(Lt)?(r=A,Lt++):(r=o,0===Zt&&ce(V)),r!==o?(34===e.charCodeAt(Lt)?(n=d,Lt++):(n=o,0===Zt&&ce(K)),n===o&&(39===e.charCodeAt(Lt)?(n=p,Lt++):(n=o,0===Zt&&ce(_)),n===o&&(92===e.charCodeAt(Lt)?(n=A,Lt++):(n=o,0===Zt&&ce(V)),n===o&&(47===e.charCodeAt(Lt)?(n=g,Lt++):(n=o,0===Zt&&ce(W)),n===o&&(n=Lt,98===e.charCodeAt(Lt)?(u=v,Lt++):(u=o,0===Zt&&ce(X)),u!==o&&(Vt=n,u=Jt()),(n=u)===o&&(n=Lt,102===e.charCodeAt(Lt)?(u=m,Lt++):(u=o,0===Zt&&ce(Y)),u!==o&&(Vt=n,u=Mt()),(n=u)===o&&(n=Lt,110===e.charCodeAt(Lt)?(u=C,Lt++):(u=o,0===Zt&&ce(Z)),u!==o&&(Vt=n,u=Tt()),(n=u)===o&&(n=Lt,114===e.charCodeAt(Lt)?(u=b,Lt++):(u=o,0===Zt&&ce(tt)),u!==o&&(Vt=n,u=zt()),(n=u)===o&&(n=Lt,116===e.charCodeAt(Lt)?(u=y,Lt++):(u=o,0===Zt&&ce(et)),u!==o&&(Vt=n,u=Bt()),(n=u)===o&&(n=Lt,117===e.charCodeAt(Lt)?(u=x,Lt++):(u=o,0===Zt&&ce(rt)),u!==o?(i=function(){var t,r,n,u,i;for(t=Lt,r=Lt,n=Lt,u=[],i=Oe();i!==o;)u.push(i),i=u.length>=4?o:Oe();return u.length<4?(Lt=n,n=o):n=u,(r=n!==o?e.substring(r,Lt):n)!==o&&(Vt=t,r=Ht(r)),t=r}(),i!==o?n=i:(Lt=n,n=o)):(Lt=n,n=o)))))))))),n!==o?(Vt=t,t=Dt(n)):(Lt=t,t=o)):(Lt=t,t=o),t}function je(){var t,e,r,n,u;for(t=Lt,e=[],r=Lt,n=le(),(u=Ee())!==o?r=n=[n,u]:(Lt=r,r=o);r!==o;)e.push(r),r=Lt,n=le(),(u=Ee())!==o?r=n=[n,u]:(Lt=r,r=o);return(r=$e())!==o?t=e=[e,r]:(Lt=t,t=o),t}function we(){var t,r,n,u,i;if(t=Lt,r=Lt,35===e.charCodeAt(Lt)?(n=a,Lt++):(n=o,0===Zt&&ce(T)),n!==o){for(u=[],S.test(e.charAt(Lt))?(i=e.charAt(Lt),Lt++):(i=o,0===Zt&&ce(ut));i!==o;)u.push(i),S.test(e.charAt(Lt))?(i=e.charAt(Lt),Lt++):(i=o,0===Zt&&ce(ut));r=n=[n,u]}else Lt=r,r=o;return r!==o?e.substring(t,Lt):r}function Ee(){var t,r,n;return k.test(e.charAt(Lt))?(t=e.charAt(Lt),Lt++):(t=o,0===Zt&&ce(it)),t===o&&(t=Lt,R.test(e.charAt(Lt))?(r=e.charAt(Lt),Lt++):(r=o,0===Zt&&ce(ct)),r!==o?(k.test(e.charAt(Lt))?(n=e.charAt(Lt),Lt++):(n=o,0===Zt&&ce(it)),n===o&&(n=null),t=r=[r,n]):(Lt=t,t=o)),t}function $e(){var t,r;if(t=[],N.test(e.charAt(Lt))?(r=e.charAt(Lt),Lt++):(r=o,0===Zt&&ce(at)),r!==o)for(;r!==o;)t.push(r),N.test(e.charAt(Lt))?(r=e.charAt(Lt),Lt++):(r=o,0===Zt&&ce(at));else t=o;return t}function Oe(){var t;return P.test(e.charAt(Lt))?(t=e.charAt(Lt),Lt++):(t=o,0===Zt&&ce(st)),t}function qe(){var t;return Zt++,I.test(e.charAt(Lt))?(t=e.charAt(Lt),Lt++):(t=o,0===Zt&&ce(lt)),Zt--,t===o&&0===Zt&&ce(ft),t}function Fe(){var t,r,n;return t=Lt,r=Lt,Zt++,U.test(e.charAt(Lt))?(n=e.charAt(Lt),Lt++):(n=o,0===Zt&&ce(ht)),Zt--,n===o?r=void 0:(Lt=r,r=o),r!==o&&(n=qe())!==o?t=r=[r,n]:(Lt=t,t=o),t}function Se(){var t;return(t=Ee())===o&&(t=function(){var t,r;return t=Lt,Zt++,e.length>Lt?(r=e.charAt(Lt),Lt++):(r=o,0===Zt&&ce(bt)),Zt--,r===o?t=void 0:(Lt=t,t=o),t}()),t}let ke=[],Re={};if((n=c())!==o&&Lt===e.length)return n;throw n!==o&&Lt<e.length&&ce({type:"end"}),ae(Yt,Xt<e.length?e.charAt(Xt):null,Xt<e.length?ie(Xt,Xt+1):ie(Xt,Xt))}let n,o,u;function i({lines:t,comments:e},r=" ",u=""){for(n=[],o=Object.entries(e).map((([t,e])=>({pos:parseInt(t),text:e}))),t.forEach((t=>{t.node?function({id:t,labels:e,properties:r},u,i){for(;o.length&&o[0].pos<u.start;)n.push(o.shift().text);for(n.push([s(t),...e.map(c),...r.map(a)].join(i));o.length&&o[0].pos<u.end;)n[n.length-1]+=o.shift().text}(t.node,t.pos,r):t.edge&&function({id:t,from:e,to:r,direction:u,labels:i,properties:f},l,h){for(;o.length&&o[0].pos<l.start;)n.push(o.shift().text);let p="";for(t&&(p+=`${s(t)}: `),p+=`${s(e)} ${u} ${s(r)}`,n.push([p,...i.map(c),...f.map(a)].join(h));o.length&&o[0].pos<l.end;)n[n.length-1]+=o.shift().text}(t.edge,t.pos,r)}));o.length;)n.push(o.shift().text);return n.join(u+"\n")}function c(t){return`:${s(t)}`}function a({key:t,values:e}){return!t.quote&&t.literal.match(/:/)?`${t.literal}: ${f(e)}`:`${s(t)}:${f(e)}`}function s(t){return t.quote?t.quote+t.literal+t.quote:t.literal}function f(t){return t.map(s).join(",")}function l(t){return`:${p(t)}`}function h(t){let e={};return t.forEach((t=>{const r=p(t.key),n=t.values.map((t=>t.literal));e.hasOwnProperty(r)?e[r]=e[r].concat(n):e[r]=n})),Object.entries(e).map((([t,e])=>`${t}:"${e.join(",")}"`))}function p(t){return t.quote?t.quote+t.literal+t.quote:'"'+t.literal+'"'}function d(t={},e){for(let[r,n]of e)if(r in t)for(let e of n)t[r].add(e);else t[r]=new Set(n);for(let e in t)t[e]=[...t[e].values()];return proper}function A(t){let e;return t.node?e={type:"node",...g(t.node)}:t.edge&&(e={type:"edge",...v(t.edge)}),JSON.stringify(e,null,2).replace(/{\n */g,"{").replace(/\n *}/g,"}").replace(/\[\n */g,"[").replace(/\n *\]/g,"]").replace(/\n */g," ")}function g(t){return{id:C(t.id),labels:t.labels.map(C),properties:m(t.properties)}}function v(t){let e={from:C(t.from),to:C(t.to),undirected:"--"===t.direction,labels:t.labels.map(C),properties:m(t.properties)};return t.id?{id:C(t.id),...e}:e}function m(t){let e={};return t.forEach((t=>{const r=C(t.key),n=t.values.map(C);e.hasOwnProperty(r)?e[r]=e[r].concat(n):e[r]=n})),e}function C(t){return t.literal}!function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var n,o=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){o=t[n].text.split(/\r\n|\n|\r/g);break}var u=this.location.start,i=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(u):u,c=this.location.source+":"+i.line+":"+i.column;if(o){var a=this.location.end,s=e("",i.line.toString().length," "),f=o[u.line-1],l=(u.line===a.line?a.column:f.length+1)-u.column||1;r+="\n --\x3e "+c+"\n"+s+" |\n"+i.line+" | "+f+"\n"+s+" | "+e("",u.column-1," ")+e("",l,"^")}else r+="\n at "+c}return r},t.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?u(t[0])+"-"+u(t[1]):u(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function u(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(i);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."};"undefined"!=typeof window&&(window.pgFormat=(t,e)=>{const n="string"==typeof t?r(t):t;switch(e){case"space":return i(n," ","");case"lines":return i(n,"\n  ","\n");case"jsonl":return n.lines.map(A).join("\n");case"json":return JSON.stringify(function(t){const e={},r=[];for(let n of t)if(n.node){const t=g(n.node);if(t.id in e){const r=[...e[id].labels,...t.labels];e[id].labels=Array.from(new Set(r)),d(e[id].properties,t.properties)}else e[t.id]=t}else n.edge&&r.push(v(n.edge));return{nodes:Object.keys(e).sort().map((t=>e[t])),edges:r}}(n.lines),null,2)}},window.pgForBlitz=(t,e=" ",n="")=>function({lines:t,comments:e},r,n){u=[];const o={},i=new Set;return t.forEach((t=>{if(t.node){const e=t.node.id.literal;o[e]?(o[e].labels=Array.from(new Set([...o[e].labels,...t.node.labels])),o[e].properties=[...o[e].properties,...t.node.properties]):o[e]=t.node}else t.edge&&(i.add(t.edge.from),i.add(t.edge.to),function({from:t,to:e,direction:r,labels:n,properties:o},i){u.push([`${p(t)} ${r} ${p(e)}`,...n.map(l),...h(o)].join(i))}(t.edge,r))})),Object.keys(o).forEach((t=>{!function({id:t,labels:e,properties:r},n){u.push([p(t),...e.map(l),...h(r)].join(n))}(o[t],r)})),Array.from(i).forEach((t=>{o[t.literal]||u.push(`${p(t)}`)})),u.join(n+"\n")}(r(t),e,n))})();